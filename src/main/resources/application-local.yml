# ============================================
# Local 환경 설정 (개발자 PC)
# 실행: --spring.profiles.active=local (기본값)
# ============================================

spring:
  # 데이터소스 설정 (로컬 PostgreSQL)
  datasource:
    url: jdbc:postgresql://localhost:5432/migration_db
    username: postgres
    password: password  # 로컬 PostgreSQL 비밀번호
    driver-class-name: org.postgresql.Driver
    hikari:
      maximum-pool-size: 10
      minimum-idle: 5
      connection-timeout: 120000  # 스트리밍 대용량 처리 대비 120초 (2분)
      idle-timeout: 600000
      max-lifetime: 1800000

# 로깅 설정 (디버깅 가능, 하지만 성능 고려)
logging:
  level:
    root: INFO
    com.kt.yaap.mig_batch: INFO               # 애플리케이션 로그
    com.kt.yaap.mig_batch.config: DEBUG       # Job 설정 확인용
    com.kt.yaap.mig_batch.batch: INFO         # Step 진행 상황
    org.springframework.batch: INFO           # Batch 진행 상황
    com.kt.yaap.mig_batch.mapper: WARN        # SQL 로그는 필요시만 DEBUG로
    org.mybatis: WARN
    org.apache.ibatis: WARN
  pattern:
    console: "%d{HH:mm:ss.SSS} %-5level %logger{20} - %msg%n"
  file:
    name: logs/crm-migration-local.log
    max-size: 100MB
    max-history: 7

# 배치 실행 설정 (로컬 - 작은 청크)
migration:
  chunk-size: 1000  # 로컬 테스트용

# SafeDB 설정 (로컬 - Mock 모드)
safedb:
  enabled: true  # Mock 암호화 사용
